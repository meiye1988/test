<!DOCTYPE html>
<meta charset="utf-8">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Explaining the Document Object Model</title>
    <script>

        //window.onload = function(){
//            var body_element = document.getElementsByTagName("body")[0];
//            console.log(body_element.childNodes);
//            console.log(body_element.childNodes.length);
//            console.log(body_element.nodeType);
//            console.log(document.getElementById("class").childNodes[0].nodeValue)
//
//            var testdiv = document.getElementById("testdiv");
//            var parsre = document.createElement("p");
////            testdiv.appendChild(parsre);
//            insertAfter(parsre,testdiv.childNodes[2]);
//            var text = document.createTextNode("this is");
//            parsre.appendChild(text);
//            var emnode = document.createElement("em");
//            var mytext = document.createTextNode("my");
//            parsre.appendChild(emnode);
//            emnode.appendChild(mytext);
//            var content = document.createTextNode(".content");
//            parsre.appendChild(content);
      //  }
        function insertAfter(newElement,targetElement){
            var parent = targetElement.parentNode;
            if(targetElement==parent.lastChild){
                parent.appendChild(newElement);
            }else{
                parent.insertBefore(newElement,targetElement.nextSibling);
                console.log(targetElement.nextSibling);
            }
        }
        function addLoadEvent(func){
            var onload = window.onload;
            if(typeof window.onload!='function'){

                window.onload = func;
                console.log("function");
            }else{
                window.onload = function(){
//                    console.log("no function");
                    onload();
                    func();
                }
            }
        }
        addLoadEvent(function(){
//            var abbr = document.getElementsByTagName("abbr");
//            var abbr_length = abbr.length;
//            var abbrTitleArray = new Array();
//            var i;
//            for(i=0;i<abbr_length;i++){
////                console.log(abbr[i].getAttribute("title"));
////                console.log(abbr[i].innerHTML);
//                abbrTitleArray[i] = new Array();
//                abbrTitleArray[i]['title'] = abbr[i].getAttribute("title");
//                abbrTitleArray[i]['html'] = abbr[i].innerHTML;
//            }
//            var dl = document.createElement("dl");
//
//            for(i=0;i<abbr_length;i++){
//                var dt = document.createElement("dt");
//                var dd = document.createElement("dd");
//                var dt_html = document.createTextNode(abbrTitleArray[i]['html']);
//                var dt_title = document.createTextNode(abbrTitleArray[i]['title']);
//                dt.appendChild(dt_html);
//                dd.appendChild(dt_title);
//                dl.appendChild(dt);
//                dl.appendChild(dd);
//            }
//            document.body.appendChild(dl);
//            var example = document.getElementById("example");
//            console.log(typeof example.style);
//            var test =  document.getElementById("test");
//            console.log(test.nextSibling);

        });

    </script>
</head>
<body>
<div id="test">
    <h1>123</h1>
    <h2>123</h2>
    <h3>123</h3>
    <h4>123</h4>
    <h5>123</h5>
</div>
<h1 id="example">What is the Document Object Model?</h1>
<p>
    The <abbr title="World Wide Web Consortium">W3C</abbr> defines
    the <abbr title="Document Object Model">DOM</abbr> as:
</p>
<blockquote cite="http://www.w3.org/DOM/">
    <p>
        A platform- and language-neutral interface that will allow programs
        and scripts to dynamically access and update the
        content, structure and style of documents.
    </p>
</blockquote>
<p>
    It is an <abbr title="Application Programming Interface">API</abbr>
    that can be used to navigate <abbr title="HyperText Markup Language">
    HTML</abbr> and <abbr title="eXtensible Markup Language">XML
</abbr> documents.
</p>
<canvas width="20" height="40">
    asdfasdfsadf
</canvas>
</body>
</html>